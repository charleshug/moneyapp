<div class="flex items-stretch flex-col md:flex-row"
  data-controller="category-chart"
  data-category-chart-id-value="categoryChart"
  data-category-chart-url-value="<%= categories_data_categories_path %>" >
  <div id="chart" class='px-2 grow'>
    <%= pie_chart data, donut: true, thousands: ",", 
          title: 'Spending By Category', id: 'categoryChart' %>
  </div>

  <div id="category-table" data-category-chart-target='category'
  class="px-4 table border bg-[#4a575e]">
    <div class="table-header-group">
      <div class="table-row text-[#aaacab]">
        <div class="table-cell align-bottom">Category</div>
        <div class="table-cell align-bottom text-center">Amount</div>
      </div>
    </div>
    <div class="table-row-group">
      <% data.each do |key,value| %>
        <div class="table-row text-white">
          <div class="table-cell px-2 whitespace-nowrap "><%= key %></div>
          <div class="table-cell px-2 text-right"><%= number_to_currency(value, unit:"", delimiter: ",") %></div>
        </div>
      <% end %>
      <div class="table-row text-[#aaacab]">
        <div class="table-cell px-2 whitespace-nowrap">Total</div>
        <div class="table-cell px-2 text-right"><%= number_to_currency(data.values.sum, unit:"", delimiter: ",") %></div>
      </div>
    </div>
  </div>
</div>